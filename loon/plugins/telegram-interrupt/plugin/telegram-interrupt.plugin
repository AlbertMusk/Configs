#!name=Telegram 策略切换打断
#!desc=通过策略切换方式打断 api.swiftgram.app 长连接
#!author=ChatGPT
#!input = policyName
#!input = INTERRUPT_INTERVAL
#!switch = ENABLE_NOTIFY

[Argument]
policyName = input,"Telegram",tag=策略组名称,desc=输入telegram规则对应的策略组的名称
INTERRUPT_INTETVAL = input, 300, tag=打断时间间隔,desc=切回后台多少秒之后打开会打断请求，建议30s以上，防止频繁打断
ENABLE_NOTIFY = switch,true,tag=开启通知,desc=开始后每次打断都会推送通知

[Script]
http-response ^https:\/\/api\.swiftgram\.app script-path=https://raw.githubusercontent.com/AlbertMusk/Configs/refs/heads/main/loon/plugins/telegram-interrupt/script/telegram_interrupt.js, requires-body=false, timeout=5, tag=TGPolicyInterrupt

[mitm]
hostname = api.swiftgram.app
